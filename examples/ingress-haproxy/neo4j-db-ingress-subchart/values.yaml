neo4j-database-ingress:
  haproxy:
    fullnameOverride: "dbingress"
    ingress:
      enabled: true
      className: "nginx"
      hosts:
        - host: MYIP.sslip.io
          paths:
            - path: /
              pathType: Prefix
      tls:
        - secretName: ingress-tls
          hosts:
            - MYIP.sslip.io
    neo4j:
      serviceName: db-server1
    service:
      type: LoadBalancer

    extraEnvs:
      - name: NEO4J_HTTP
        value: db-server1:7474
      - name: NEO4J_BOLT
        value: db-server1:7687

db-server1:
  disableLookups: true
  fullnameOverride:  "db-server1"
  neo4j:
    name: ingress-haproxy
    acceptLicenseAgreement: "yes"
    edition: enterprise
    minimumClusterSize: 3
    passwordFromSecret: test-auth
  volumes:
    data:
      mode: defaultStorageClass
  services:
    neo4j:
      enabled: false
db-server2:
  disableLookups: true
  fullnameOverride: "db-server2"
  neo4j:
    name: ingress-haproxy
    acceptLicenseAgreement: "yes"
    edition: enterprise
    minimumClusterSize: 3
    passwordFromSecret: test-auth
  volumes:
    data:
      mode: defaultStorageClass
  services:
    neo4j:
      enabled: false
db-server3:
  disableLookups: true
  fullnameOverride: "db-server3"
  neo4j:
    name: ingress-haproxy
    acceptLicenseAgreement: "yes"
    edition: enterprise
    minimumClusterSize: 3
    passwordFromSecret: test-auth
  volumes:
    data:
      mode: defaultStorageClass
  services:
    neo4j:
      enabled: false